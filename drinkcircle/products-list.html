<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="keywords" content="">
    <meta name="generator" content="ToolTwist">
    <link rel="icon" type="image/x-icon" href="/ttsvr/cropImage/drinkcircle.images.cma_favicon.png">
    <!-- Bootstrap-->
    <link href="//code.getmdl.io/1.2.0/material.indigo-pink.min.css" rel="stylesheet">
    <link href="//cdn.datatables.net/1.10.12/css/dataTables.material.min.css" rel="stylesheet">
    <link href="//fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <link rel="stylesheet" href="//cdn.rawgit.com/CreativeIT/getmdl-select/master/getmdl-select.min.css">
    <link rel="stylesheet" href="bower_components/angular-material/angular-material.min.css">
    <style type="text/css">
      .getmdl-select .mdl-icon-toggle__label{float:right;margin-top:-30px;color:rgba(0,0,0,0.4)}.getmdl-select.is-focused .mdl-icon-toggle__label{color:#3f51b5}.getmdl-select .mdl-menu__container{width:100% !important;overflow-y:auto;overflow-x:hidden}.getmdl-select .mdl-menu__container .mdl-menu .mdl-menu__item{font-size:16px}.getmdl-select__fullwidth .mdl-menu{width:100%}.getmdl-select__fix-height .mdl-menu__container{max-height:300px !important}/*
      * DO NOT EDIT THIS FILE. EVER!!!
      * ========================================================================
      * IF IN CASE I'M NOT AROUND, JUST CREATE A NEW FILE FOR YOUR CSS OVERRIDE.
      */
      .designer-properties{margin:5px}.designer-droppable+div{margin:5px}.designer-properties img{max-width:100%}.ttdesigner-flowChildren-insertRow{font-size:11px;padding:5px}.ttDesigner-region-label{width:auto}.ttDesigner-widget-label{display:inline-block;text-align:left;background-color:blue;padding-left:4px;padding-right:4px;border-top-left-radius:2px;border-top-right-radius:2px;margin-left:2px;margin-top:2px;font-family:arial;font-size:10px;color:white;cursor:move}body{background:#eee}footer{background:#fff;padding:25px 16px;text-align:center;border-top:1px solid #e0e0e0}.section-grid{position:relative;max-width:100%;width:1440px;box-sizing:border-box}.cma-overlay{position:fixed;width:100%;height:100%;background:rgba(0,0,0,0.7);z-index:6}.cma-text-right{text-align:right;display:block}.cma-card{border:1px solid #e0e0e0;box-sizing:border-box;border-radius:2px;background:#fafafa}.cma-card.form{width:300px;max-width:100%}.cma-card .cma-card--title{padding:16px;font-size:16px;border-bottom:1px solid #e0e0e0;position:relative}.cma-card .cma-card--title .mdl-button{position:absolute;right:8px;top:10px}.cma-card .cma-card--title .mdl-button i{font-size:18px}.cma-card .cma-card--content{padding:0;font-size:14px;color:gray;max-height:168px;overflow:scroll}.cma-card .cma-card--content table{width:100%;border:0 !important}.cma-card .cma-card--content table thead th{color:#ccc}.cma-card .cma-card--content table thead th:first-child{padding-right:0;padding-left:16px}.cma-card .cma-card--content table tbody td:first-child{padding-right:0;padding-left:16px}.cma-file-uploader-drop-area{padding:40px 16px;border-bottom:1px dashed #ccc}.cma-file-uploader-drop-area .cma-file-upload-btn{margin:auto;color:#ccc;display:block;height:auto;cursor:pointer}.cma-file-uploader-drop-area .cma-file-upload-btn i{font-size:72px}.cma-file-uploader-drop-area .cma-file-upload-btn span{display:block}.cma-file-uploader--progress{margin:auto;position:absolute;left:0;right:0;z-index:3}.cma-file-uploader--progress .mdl-card__actions{text-align:center}.cma-file-uploader--progress .cma-progress-item{position:relative}.cma-file-uploader--progress .cma-progress-item a.clear{position:absolute;right:0;bottom:4px;font-size:12px;font-weight:bold;color:#9E9E9E;text-decoration:none}.cma-file-uploader--progress .cma-progress-item a.clear:hover{color:#ccc}[data-toggle-cma="collapse"]{cursor:pointer}.cma-toggle-collapse{display:none;background:#eee}.cma-toggle-collapse>td{padding:0 !important}.cma-toggle-collapse>td div>table{width:100%;border-collapse:collapse}.cma-toggle-collapse>td div>table tr td{border-collapse:collapse;border:0}[data-toggle-cma="collapse"] .has-sub i{position:absolute;right:0}[data-toggle-cma="collapse"].collapsed .has-sub i{-webkit-transform:rotate(180deg);transform:rotate(180deg)}[data-toggle-cma="collapse"].collapsed,[data-toggle-cma="collapse"].collapsed:hover,.cma-toggle-collapse td{background:#eee}.mdl-data-table td.cma-row-controls{padding-left:0;padding-right:10px}.cma-photo-upload .cma-photo-upload--preview{margin-bottom:20px;text-align:center}.cma-photo-upload .cma-photo-upload--preview img{min-width:100%;box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.2),0 1px 5px 0 rgba(0,0,0,0.12)}#var-add-new{position:fixed;right:16px;bottom:16px;z-index:3}.cma-card-table-heading{margin:0;padding:16px 16px 0}.cma-toggle-sub-row{border-left:10px solid #3f51b5}.mdl-menu li *{vertical-align:middle}.mdl-menu li * span.text{margin-right:5px}.mdl-textfield.centered{display:block;margin:auto}.mdl-textfield .mdl-button{right:0}.mdl-button--file input{cursor:pointer;height:100%;right:0;opacity:0;position:absolute;top:0;width:300px;z-index:4}.mdl-button--file .mdl-textfield__input{box-sizing:border-box;width:calc(100% - 32px)}.mdl-textfield--file .mdl-button--file{right:0}.mdl-tabs__tab-bar{background:#fff}.mdl-card table{border:0}.mdl-card .dt-table{padding:0}.mdl-card .dt-table>.mdl-cell{margin:0;width:100%}.mdl-textfield.wrap,.mdl-textfield.inner{padding-bottom:0}.cma-modal-wrap{position:absolute;left:50%;top:50%;z-index:7;margin:auto;min-height:auto}.dataTables_wrapper{width:100%}.dt-table{overflow-x:scroll;overflow-y:hidden}.dataTables_filter{position:relative;font-size:16px;box-sizing:border-box;max-width:100%;margin:0}.dataTables_filter label{display:inline-block}.dataTables_filter input{border:none;border-bottom:1px solid rgba(0,0,0,0.12);font-size:16px;font-family:"Helvetica","Arial",sans-serif;margin:0;padding:4px 0;background:0 0;text-align:left;color:inherit;outline:0}.dt-table td .mdl-checkbox,.dt-table td .mdl-switch{display:inline}.mdl-data-table__cell--non-numeric.left{text-align:left}.mdl-data-table__cell--non-numeric.right{text-align:right}.mdl-data-table__cell--non-numeric.center{text-align:center}.dataTables_info{color:gray;font-size:14px;font-weight:lighter}.mdl-layout__header{background:white;color:#333}.cma-page-header{display:-webkit-box;display:-ms-flexbox;display:flex;background:#3f51b5;color:white;padding:16px}.cma-page-header h2{font-size:24px;font-weight:lighter}.cma-page-header.form{background:#ff4081}.mdl-grid.raised{margin-top:-100px}.mdl-grid.form-grid{position:relative;max-width:100%;width:1024px;box-sizing:border-box}.mdl-cell.pressed{margin-top:100px}.mdl-layout__drawer{box-shadow:none}.cma-page-info h5,.cma-page-info p{font-weight:lighter}.cma-page-info p{color:#9E9E9E}.cma-page-info h5{color:#7d7d7d;font-size:18px}.mdl-layout__header .mdl-layout__drawer-button{color:inherit}.mdl-layout__drawer>.mdl-layout-title,.mdl-layout__drawer>.mdl-layout__title{padding:0 15px}.mdl-layout__title img{max-width:100%;min-width:100%}.mdl-text-icon{vertical-align:middle}.mdl-navigation i{float:right}.mdl-menu__item a{display:block;text-decoration:none;color:inherit}.style .mdl-cell{background:#eee;padding:15px 10px}.mdl-grid.buttons .mdl-cell{text-align:center}.mdl-textfield.cma-combination{padding:0}.cma-combination .cma-text{width:220px}.cma-combination .cma-dropdown{width:75px !important}.cma-form-ckeditor .mdl-textfield{width:90%}.cma-form-ckeditor .mdl-textfield .mdl-textfield__label{top:-2px;visibility:visible}.cma-btn-floating-add a{display:block;margin:auto;position:fixed;right:15px;bottom:15px;top:auto;z-index:7}@media screen and (min-width: 840px){.cma-btn-floating-add a{position:relative;right:auto;bottom:auto;top:92px;z-index:7;margin:-37px auto}}
      md-content {
        background: "white" !important;
      }
      md-input-container label:not(.md-container-ignore){
        bottom: 80%;
      }
    </style>
  </head>
  <body>
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-drawer mdl-layout--fixed-header has-drawer is-upgraded is-small-screen">
      <header class="mdl-layout__header">
        <div class="mdl-layout-icon"></div>
        <div class="mdl-layout__header-row"><span class="mdl-layout__title"><span class="wbdRichText">
              <div>Products</div></span></span>
          <div class="mdl-layout-spacer"></div>
          <!-- Right aligned menu below button-->
          <div class="authservice-current-user-firstname inline"></div>
          <button class="mdl-button mdl-js-button mdl-button--icon" id="user-drop-settings"><i class="material-icons">arrow_drop_down</i></button>
          <ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect" for="user-drop-settings">
            <li class="mdl-menu__item"><span class="mdl-badge" data-badge="4">Notifications</span></li>
            <li class="mdl-menu__item"><a href="#">Products</a></li>
            <li class="mdl-menu__item"><a href="#">Categories</a></li>
            <li class="mdl-menu__item"><a href="#">Shipping</a></li>
            <li class="mdl-menu__item"><a href="#">Orders</a></li>
            <li class="mdl-menu__item"><a href="/ttsvr/n/ttauth2_logout">Logout</a></li>
          </ul>
        </div>
      </header>
      <div class="mdl-layout__drawer"><span class="mdl-layout__title"><img src="assets/images/logo_black.png"></span>
        <nav class="mdl-navigation"><a class="mdl-navigation__link" href="products-list.html">Products</a><a class="mdl-navigation__link" href="/ttsvr/admin-category">Categories</a><a class="mdl-navigation__link" href="/ttsvr/supplier-list">Supplier</a></nav>
      </div>
      <main class="mdl-layout__content" ng-app="myApp" ng-controller="myCtrl" ng-cloak>
        <div class="cma-page-header">
          <h2>&nbsp;
            <!-- [spacer]-->
          </h2>
        </div>
        <div class="mdl-grid section-grid raised">
          <div class="mdl-cell mdl-cell--2-col mdl-cell--hide-tablet mdl-cell--hide-phone pressed">
            <div class="cma-page-info">
              <h5>Adding a Product</h5>
              <p>To add a Product, on the right side of the Product list, a "Plus" button is available. Clicking on this button will redirect to Product Maintenance form.</p>
              <h5>Editing a Product</h5>
              <p>More option menu is available in each item on the list. Simply click on the more icon and select edit.</p>
            </div>
          </div>
          <div class="mdl-cell mdl-cell--9-col mdl-card mdl-shadow--2dp">
            <table class="mdl-data-table" id="cma-table-product-list" cellspacing="0" width="100%" datatable="ng" dt-options="dtOptions" dt-column-defs="dtColumnDefs" dt-columns="dtColumns">
              <thead>
                <tr>
                  <th>ID</th>
                  <th>Name</th>
                  <th>Categories</th>
                  <th>Status</th>
                  <th></th>
                </tr>
              </thead>
              <tfoot>
                <tr>
                  <th>ID</th>
                  <th>Name</th>
                  <th>Categories</th>
                  <th>Status</th>
                  <th></th>
                </tr>
              </tfoot>
              <tbody>
                <tr ng-repeat="product in products">
                  <td>{{product.product_id}}</td>
                  <td>{{product.product_name}}</td>
                  <td>{{product.product_category}}</td>
                  <td>{{product.status | capitalize}}</td>
                  <td class="cma-row-controls">
                    <md-menu>
                      <md-button class="md-icon-button" aria-label="More" ng-click="$mdOpenMenu()"><i class="material-icons">more_vert</i></md-button>
                      <md-menu-content>
                        <md-menu-item>
                          <md-button aria-label="">{{ product.status=="active" ? "Deactivate" : "Activate" }}</md-button>
                        </md-menu-item>
                        <md-menu-item>
                          <md-button ng-href="manage-product.html?product={{product.product_id}}">Edit</md-button>
                        </md-menu-item>
                        <md-menu-item>
                          <md-button>Delete</md-button>
                        </md-menu-item>
                      </md-menu-content>
                    </md-menu>
                  </td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="mdl-cell mdl-cell--1-col cma-btn-floating-add"><a class="mdl-button mdl-js-button mdl-button--fab mdl-js-ripple-effect mdl-button--colored" href="manage-product.html"><i class="material-icons">add</i></a></div>
        </div><br>
      </main>
    </div>
    <!-- Bower Components-->
    <script src="bower_components/jquery/dist/jquery.js" type="text/javascript"></script>
    <script src="bower_components/jquery.cookie/jquery.cookie.js" type="text/javascript"></script>
    <script src="//code.getmdl.io/1.2.0/material.min.js"></script>
    <script src="//cdn.datatables.net/1.10.12/js/jquery.dataTables.min.js"></script>
    <script src="//cdn.datatables.net/1.10.12/js/dataTables.material.min.js"></script>
    <script defer="" src="//cdn.rawgit.com/CreativeIT/getmdl-select/master/getmdl-select.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.2/Chart.bundle.min.js"></script>
    <script src="//cdnjs.cloudflare.com/ajax/libs/Chart.js/2.2.2/Chart.bundle.min.js"></script>
    <script src="bower_components/owl.carousel/dist/owl.carousel.min.js" type="text/javascript"></script>
    <script src="/bower_components/accounting/accounting.min.js"></script>
    <script src="/bower_components/angular/angular.min.js"></script>
    <script src="/bower_components/angular-sanitize/angular-sanitize.min.js"></script>
    <script src="/bower_components/angular-datatables/demo/src/archives/dist/angular-datatables.min.js">   </script>
    <script src="/bower_components/angular-aria/angular-aria.min.js">   </script>
    <script src="/bower_components/angular-animate/angular-animate.min.js">   </script>
    <script src="/bower_components/angular-material/angular-material.min.js">   </script>
    <script src="/bower_components/moment/min/moment.min.js"></script>
    <script src="assets/vendor/bootstrap/dist/js/bootstrap.js" type="text/javascript"></script>
    <script src="assets/scripts/ie10-viewport-bug-workaround.js" type="text/javascript"></script>
    <script src="assets/scripts/main.js" type="text/javascript"></script>
    <script src="assets/vendor/teaservice/teaservice.js" type="text/javascript"></script>
    <script src="assets/vendor/authservice/authservice.js" type="text/javascript"> </script>
    <!-- External Script goes here...-->
    <script>
      $.cookie('pageactive', '', {path: '/products-list.html'});
      
      /*
       *  Set up the login part at the top of the page.
       */
      authservice.init({
        host: 'localhost',
        port: 9090,
        tenant: 'nodeclient',
        pretend: true
      });
      console.log('Current user:', authservice.getCurrentUser());
      
      /*
       * Angular
       */
      
       var app = angular.module('myApp', ['datatables', 'ngMaterial']);
      
       teaservice.init(app);
      
       app.controller('myCtrl', function($scope, DTOptionsBuilder, DTColumnDefBuilder, DTColumnBuilder, teaService){
          $scope.dtOptions = DTOptionsBuilder.newOptions();
          var cellClass = " mdl-data-table__cell--non-numeric";
          $scope.dtColumns = [
              DTColumnBuilder.newColumn(0).withClass(cellClass),
              DTColumnBuilder.newColumn(1).withClass(cellClass),
              DTColumnBuilder.newColumn(2).withClass(cellClass),
              DTColumnBuilder.newColumn(3).withClass(cellClass),
              DTColumnBuilder.newColumn(4).withClass(cellClass)
          ];
          $scope.dtColumnDefs = [
            DTColumnDefBuilder.newColumnDef(4).notSortable()
          ];
         teaService.getProductsBySupplier(authservice.getCurrentUser().ttuat)
          .then(function(data){
              $scope.products = data.products;
              console.log('products: ');
              console.log(data.products);
          });
       });
      
       app.filter('capitalize', function() {
          return function(input) {
            return (!!input) ? input.charAt(0).toUpperCase() + input.substr(1).toLowerCase() : '';
          }
      });
    </script>
  </body>
</html>